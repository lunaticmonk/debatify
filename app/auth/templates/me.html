<!DOCTYPE html>
<html>
    <head>
        {% block head %}
        <title>{% block title %}Dashboard{% endblock %}</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static',filename = "assets/materialize/css/materialize.min.css")}}">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <style type="text/css">
        .navbar-wrapper{
            background-color: #0099ff;
        }
        #grids div{
            margin-left: 1%;
        }
        </style>
        {% endblock %}
    </head>

    <body>
        <div class = "container">
        </div>
            <!-- Dropdown Structure -->
            {% block navbar %}
        <div class = "navbar-fixed">
            <ul id="dropdown1" class="dropdown-content">
              <li><a href="{{url_for('main.profile')}}">Profile</a></li>
              <li><a href="#!">IDK</a></li>
              <li class="divider"></li>
              <li><a href="{{url_for('auth.logout')}}">Logout</a></li>
            </ul>
            <nav>
                <div class = "nav-wrapper light-blue darken-2">
                    <a href="{{url_for('auth.dashboard')}}" class="brand-logo">Debatify</a>
                    <ul id="nav-mobile" class="right hide-on-med-and-down">
                        <li>{% block signed_in_as %}Hello, {{ current_user.firstname | title }}{% endblock %}</li>
                        <li><a href="#modal1" class = "waves-effect waves-light btn modal-trigger">Raise a question</a></li>
                        <li><a href="#!">Poll</a></li>
                        <!--Dropdown trigger-->
                        <li><a href="#!" class = "dropdown-button" data-activates = "dropdown1">Account<i class="material-icons right">&bull;</i></a></li>
                    </ul>
                </div>
            </nav>
        </div>
        {% endblock %}
        <!--Navbar end-->
        <!--Grids-->
        <ul class="collapsible popout" data-collapsible="accordion" id = "accordion">
            <!--The dynamic list part comes here-->
                {% for f in fetchedTopic %}
                <li>
                    <div class="collapsible-header"><i class="material-icons">note_add</i>{{f.topic}}</div>
                    <div class="collapsible-body"><p>{{f.questions}}</p></div>
                </li>
                {% endfor %}
        </ul>   
        <!--Grids end-->
        <!--Modal-->
<!--           <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Modal</a>
 -->        <!-- Modal Structure -->
          <div id="modal1" class="modal">
            <div class="modal-content">
              <div class="row">
                <form class="col s12" action = "{{url_for('main.index')}}" method = "POST">
                  <div class="row">
                    <div class="input-field col s12">
                        <textarea id="textarea1" class="materialize-textarea" name = "question-textarea"></textarea>
                      <label for="textarea1">Topic</label>
                    </div>
                    <div class = "col s12">
                      <label for="topic">Question</label>
                      <textarea id="topic" class="materialize-textarea" name = "topic-textarea"></textarea>
                    </div>
                  </div>
            <div class="modal-footer">
              <button class=" modal-action modal-close waves-effect waves-green btn-flat" id = "raisebtn" onsubmit = "submit">Raise</button>
            </div>
                </form>
                </div>
            </div>
          </div>
        <!--Modal end-->
        {% block page_content %}{% endblock %}
        {% block scripts %}
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script src = "{{url_for('static',filename = "assets/materialize/js/materialize.min.js")}}"></script>
        <script src = "{{url_for('static',filename = "assets/js/welcome.js")}}"></script>
        {% endblock %}
    </body>
</html>